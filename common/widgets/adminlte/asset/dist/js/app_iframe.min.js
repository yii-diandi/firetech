var App=function(){var isRTL=!1,isIE8=!1,isIE9=!1,isIE10=!1,resizeHandlers=[],basePath="../content/superui/",globalImgPath="global/img/",globalPluginsPath="base/plugins/",globalCssPath="global/css/",brandColors={blue:"#89C4F4",red:"#F3565D",green:"#1bbc9b",purple:"#9b59b6",grey:"#95a5a6",yellow:"#F8CB00",lightblue:"364150"},handleInit=function(){"rtl"===$("body").css("direction")&&(isRTL=!0),isIE8=!!navigator.userAgent.match(/MSIE 8.0/),isIE9=!!navigator.userAgent.match(/MSIE 9.0/),(isIE10=!!navigator.userAgent.match(/MSIE 10.0/))&&$("html").addClass("ie10"),(isIE10||isIE9||isIE8)&&$("html").addClass("ie")},_runResizeHandlers=function(){for(var i=0;i<resizeHandlers.length;i++){var each;resizeHandlers[i].call()}},handleIframeContent=function(){var ht=$(window).height(),$footer=$(".main-footer"),$header=$(".main-header"),$tabs=$(".content-tabs"),height=App.getViewPort().height-$footer.outerHeight()-$header.outerHeight();$tabs.is(":visible")&&(height-=$tabs.outerHeight()),$(".tab_iframe").css({height:height,width:"100%"})},handleIframeLayoutHeight=function(){var height;return App.getViewPort().height-$(".page-footer").outerHeight()-$(".page-header").outerHeight()-$(".content-tabs").height()},handleSiderBarmenu=function(){jQuery(".page-sidebar-menu").on("click"," li > a.iframeOpen",(function(e){e.preventDefault(),App.scrollTop(),$("#iframe-main").attr("src",$(this).attr("href"))}))},isFullScreen=!1,requestFullScreen=function(){var de=document.documentElement;de.requestFullscreen?de.requestFullscreen():de.mozRequestFullScreen?de.mozRequestFullScreen():de.webkitRequestFullScreen?de.webkitRequestFullScreen():App.alert({message:"该浏览器不支持全屏！",type:"danger"})},requestFullScreen2=function(element){var requestMethod=element.requestFullScreen||element.webkitRequestFullScreen||element.mozRequestFullScreen||element.msRequestFullScreen;if(requestMethod)requestMethod.call(element);else if(void 0!==window.ActiveXObject){var wscript=new ActiveXObject("WScript.Shell");null!==wscript&&wscript.SendKeys("{F11}")}},exitFull=function(){var exitMethod=document.exitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.webkitExitFullscreen;if(exitMethod)exitMethod.call(document);else if(void 0!==window.ActiveXObject){var wscript=new ActiveXObject("WScript.Shell");null!==wscript&&wscript.SendKeys("{F11}")}},handleOnResize=function(){var resize,currheight;isIE8?$(window).resize((function(){currheight!=document.documentElement.clientHeight&&(resize&&clearTimeout(resize),resize=setTimeout((function(){_runResizeHandlers(),handleIframeContent()}),50),currheight=document.documentElement.clientHeight)})):$(window).resize((function(){resize&&clearTimeout(resize),resize=setTimeout((function(){_runResizeHandlers(),handleIframeContent()}),50)}))},handlePortletTools=function(){$("body").on("click",".portlet > .portlet-title > .tools > a.remove",(function(e){e.preventDefault();var portlet=$(this).closest(".portlet");$("body").hasClass("page-portlet-fullscreen")&&$("body").removeClass("page-portlet-fullscreen"),portlet.find(".portlet-title .fullscreen").tooltip("destroy"),portlet.find(".portlet-title > .tools > .reload").tooltip("destroy"),portlet.find(".portlet-title > .tools > .remove").tooltip("destroy"),portlet.find(".portlet-title > .tools > .config").tooltip("destroy"),portlet.find(".portlet-title > .tools > .collapse, .portlet > .portlet-title > .tools > .expand").tooltip("destroy"),portlet.remove()})),$("body").on("click",".portlet > .portlet-title .fullscreen",(function(e){e.preventDefault();var portlet=$(this).closest(".portlet");if(portlet.hasClass("portlet-fullscreen"))$(this).removeClass("on"),portlet.removeClass("portlet-fullscreen"),$("body").removeClass("page-portlet-fullscreen"),portlet.children(".portlet-body").css("height","auto");else{var height=App.getViewPort().height-portlet.children(".portlet-title").outerHeight()-parseInt(portlet.children(".portlet-body").css("padding-top"))-parseInt(portlet.children(".portlet-body").css("padding-bottom"));$(this).addClass("on"),portlet.addClass("portlet-fullscreen"),$("body").addClass("page-portlet-fullscreen"),portlet.children(".portlet-body").css("height",height)}})),$("body").on("click",".portlet > .portlet-title > .tools > a.reload",(function(e){e.preventDefault();var el=$(this).closest(".portlet").children(".portlet-body"),url=$(this).attr("data-url"),error=$(this).attr("data-error-display");url?(App.blockUI({target:el,animate:!0,overlayColor:"none"}),$.ajax({type:"GET",cache:!1,url:url,dataType:"html",success:function(res){App.unblockUI(el),el.html(res),App.initAjax()},error:function(xhr,ajaxOptions,thrownError){App.unblockUI(el);var msg="Error on reloading the content. Please check your connection and try again.";"toastr"==error&&toastr?toastr.error(msg):"notific8"==error&&$.notific8?($.notific8("zindex",11500),$.notific8(msg,{theme:"ruby",life:3e3})):alert(msg)}})):(App.blockUI({target:el,animate:!0,overlayColor:"none"}),window.setTimeout((function(){App.unblockUI(el)}),1e3))})),$('.portlet .portlet-title a.reload[data-load="true"]').click(),$("body").on("click",".portlet > .portlet-title > .tools > .collapse, .portlet .portlet-title > .tools > .expand",(function(e){e.preventDefault();var el=$(this).closest(".portlet").children(".portlet-body");$(this).hasClass("collapse")?($(this).removeClass("collapse").addClass("expand"),el.slideUp(200)):($(this).removeClass("expand").addClass("collapse"),el.slideDown(200))}))},handleUniform=function(){if($().uniform){var test=$("input[type=checkbox]:not(.toggle, .md-check, .md-radiobtn, .make-switch, .icheck), input[type=radio]:not(.toggle, .md-check, .md-radiobtn, .star, .make-switch, .icheck)");test.length>0&&test.each((function(){0===$(this).parents(".checker").length&&($(this).show(),$(this).uniform())}))}},handleMaterialDesign=function(){var element,circle,d,x,y;($("body").on("click",".md-checkbox > label, .md-radio > label",(function(){var the=$(this),el=$(this).children("span:first-child");el.addClass("inc");var newone=el.clone(!0);el.before(newone),$("."+el.attr("class")+":last",the).remove()})),$("body").hasClass("page-md"))&&$("body").on("click","a.btn, button.btn, input.btn, label.btn",(function(e){0==(element=$(this)).find(".md-click-circle").length&&element.prepend("<span class='md-click-circle'></span>"),(circle=element.find(".md-click-circle")).removeClass("md-click-animate"),circle.height()||circle.width()||(d=Math.max(element.outerWidth(),element.outerHeight()),circle.css({height:d,width:d})),x=e.pageX-element.offset().left-circle.width()/2,y=e.pageY-element.offset().top-circle.height()/2,circle.css({top:y+"px",left:x+"px"}).addClass("md-click-animate"),setTimeout((function(){circle.remove()}),1e3)}));var handleInput=function(el){""!=el.val()?el.addClass("edited"):el.removeClass("edited")};$("body").on("keydown",".form-md-floating-label .form-control",(function(e){handleInput($(this))})),$("body").on("blur",".form-md-floating-label .form-control",(function(e){handleInput($(this))})),$(".form-md-floating-label .form-control").each((function(){$(this).val().length>0&&$(this).addClass("edited")}))},handleiCheck=function(){$().iCheck&&$(".icheck").each((function(){var checkboxClass=$(this).attr("data-checkbox")?$(this).attr("data-checkbox"):"icheckbox_minimal-grey",radioClass=$(this).attr("data-radio")?$(this).attr("data-radio"):"iradio_minimal-grey";checkboxClass.indexOf("_line")>-1||radioClass.indexOf("_line")>-1?$(this).iCheck({checkboxClass:checkboxClass,radioClass:radioClass,insert:'<div class="icheck_line-icon"></div>'+$(this).attr("data-label")}):$(this).iCheck({checkboxClass:checkboxClass,radioClass:radioClass})}))},handleBootstrapSwitch=function(){$().bootstrapSwitch&&$(".make-switch").bootstrapSwitch()},handleBootstrapConfirmation=function(){$().confirmation&&$("[data-toggle=confirmation]").confirmation({container:"body",btnOkClass:"btn btn-sm btn-success",btnCancelClass:"btn btn-sm btn-danger"})},handleAccordions=function(){$("body").on("shown.bs.collapse",".accordion.scrollable",(function(e){App.scrollTo($(e.target))}))},handleTabs=function(){if(location.hash){var tabid=encodeURI(location.hash.substr(1));$('a[href="#'+tabid+'"]').parents(".tab-pane:hidden").each((function(){var tabid=$(this).attr("id");$('a[href="#'+tabid+'"]').click()})),$('a[href="#'+tabid+'"]').click()}$().tabdrop&&$(".tabbable-tabdrop .nav-pills, .tabbable-tabdrop .nav-tabs").tabdrop({text:'<i class="fa fa-ellipsis-v"></i>&nbsp;<i class="fa fa-angle-down"></i>'})},handleModals=function(){$("body").on("hide.bs.modal",(function(){$(".modal:visible").length>1&&!1===$("html").hasClass("modal-open")?$("html").addClass("modal-open"):$(".modal:visible").length<=1&&$("html").removeClass("modal-open")})),$("body").on("show.bs.modal",".modal",(function(){$(this).hasClass("modal-scroll")&&$("body").addClass("modal-open-noscroll")})),$("body").on("hide.bs.modal",".modal",(function(){$("body").removeClass("modal-open-noscroll")})),$("body").on("hidden.bs.modal",".modal:not(.modal-cached)",(function(){$(this).removeData("bs.modal")}))},handleTooltips=function(){$(".tooltips").tooltip(),$(".portlet > .portlet-title .fullscreen").tooltip({container:"body",title:"Fullscreen"}),$(".portlet > .portlet-title > .tools > .reload").tooltip({container:"body",title:"Reload"}),$(".portlet > .portlet-title > .tools > .remove").tooltip({container:"body",title:"Remove"}),$(".portlet > .portlet-title > .tools > .config").tooltip({container:"body",title:"Settings"}),$(".portlet > .portlet-title > .tools > .collapse, .portlet > .portlet-title > .tools > .expand").tooltip({container:"body",title:"Collapse/Expand"})},handleDropdowns=function(){$("body").on("click",".dropdown-menu.hold-on-click",(function(e){e.stopPropagation()}))},handleAlerts=function(){$("body").on("click",'[data-close="alert"]',(function(e){$(this).parent(".alert").hide(),$(this).closest(".note").hide(),e.preventDefault()})),$("body").on("click",'[data-close="note"]',(function(e){$(this).closest(".note").hide(),e.preventDefault()})),$("body").on("click",'[data-remove="note"]',(function(e){$(this).closest(".note").remove(),e.preventDefault()}))},handleDropdownHover=function(){$('[data-hover="dropdown"]').not(".hover-initialized").each((function(){$(this).dropdownHover(),$(this).addClass("hover-initialized")}))},handleTextareaAutosize=function(){"function"==typeof autosize&&autosize(document.querySelector("textarea.autosizeme"))},lastPopedPopover,handlePopovers=function(){$(".popovers").popover(),$(document).on("click.bs.popover.data-api",(function(e){lastPopedPopover&&lastPopedPopover.popover("hide")}))},handleScrollers=function(){App.initSlimScroll(".scroller")},handleFancybox=function(){jQuery.fancybox&&$(".fancybox-button").length>0&&$(".fancybox-button").fancybox({groupAttr:"data-rel",prevEffect:"none",nextEffect:"none",closeBtn:!0,helpers:{title:{type:"inside"}}})},handleCounterup=function(){$().counterUp&&$("[data-counter='counterup']").counterUp({delay:10,time:1e3})},handleFixInputPlaceholderForIE=function(){(isIE8||isIE9)&&$("input[placeholder]:not(.placeholder-no-fix), textarea[placeholder]:not(.placeholder-no-fix)").each((function(){var input=$(this);""===input.val()&&""!==input.attr("placeholder")&&input.addClass("placeholder").val(input.attr("placeholder")),input.focus((function(){input.val()==input.attr("placeholder")&&input.val("")})),input.blur((function(){""!==input.val()&&input.val()!=input.attr("placeholder")||input.val(input.attr("placeholder"))}))}))},handleSelect2=function(){$().select2&&($.fn.select2.defaults.set("theme","bootstrap"),$(".select2me").select2({placeholder:"Select",width:"auto",allowClear:!0}))},handleHeight=function(){$("[data-auto-height]").each((function(){var parent=$(this),items=$("[data-height]",parent),height=0,mode=parent.attr("data-mode"),offset=parseInt(parent.attr("data-offset")?parent.attr("data-offset"):0);items.each((function(){"height"==$(this).attr("data-height")?$(this).css("height",""):$(this).css("min-height","");var height_="base-height"==mode?$(this).outerHeight():$(this).outerHeight(!0);height_>height&&(height=height_)})),height+=offset,items.each((function(){"height"==$(this).attr("data-height")?$(this).css("height",height):$(this).css("min-height",height)})),parent.attr("data-related")&&$(parent.attr("data-related")).css("height",parent.height())}))};return{init:function(){handleInit(),handleOnResize(),handleMaterialDesign(),handleUniform(),handleiCheck(),handleBootstrapSwitch(),handleScrollers(),handleFancybox(),handleSelect2(),handlePortletTools(),handleAlerts(),handleDropdowns(),handleTabs(),handleTooltips(),handlePopovers(),handleAccordions(),handleModals(),handleBootstrapConfirmation(),handleTextareaAutosize(),handleCounterup(),handleSiderBarmenu(),this.addResizeHandler(handleHeight),handleFixInputPlaceholderForIE()},initAjax:function(){handleUniform(),handleiCheck(),handleBootstrapSwitch(),handleDropdownHover(),handleScrollers(),handleSelect2(),handleFancybox(),handleDropdowns(),handleTooltips(),handlePopovers(),handleAccordions(),handleBootstrapConfirmation()},handleFullScreen:function(){isFullScreen?(exitFull(),isFullScreen=!1):(requestFullScreen(),isFullScreen=!0)},fixIframeTab:function(){handleIframeContent()},getIframeLayoutHeight:function(){return handleIframeLayoutHeight()},initComponents:function(){this.initAjax()},fixIframeCotent:function(){setTimeout((function(){_runResizeHandlers(),handleIframeContent()}),50)},setLastPopedPopover:function(el){lastPopedPopover=el},addResizeHandler:function(func){resizeHandlers.push(func)},runResizeHandlers:function(){_runResizeHandlers()},scrollTo:function(el,offeset){var pos=el&&el.length>0?el.offset().top:0;el&&($("body").hasClass("page-header-fixed")?pos-=$(".page-header").height():$("body").hasClass("page-header-top-fixed")?pos-=$(".page-header-top").height():$("body").hasClass("page-header-menu-fixed")&&(pos-=$(".page-header-menu").height()),pos+=offeset||-1*el.height()),$("html,body").animate({scrollTop:pos},"slow")},initSlimScroll:function(el){$(el).each((function(){var height;$(this).attr("data-initialized")||(height=$(this).attr("data-height")?$(this).attr("data-height"):$(this).css("height"),$(this).slimScroll({allowPageScroll:!0,size:"7px",color:$(this).attr("data-handle-color")?$(this).attr("data-handle-color"):"#bbb",wrapperClass:$(this).attr("data-wrapper-class")?$(this).attr("data-wrapper-class"):"slimScrollDiv",railColor:$(this).attr("data-rail-color")?$(this).attr("data-rail-color"):"#eaeaea",position:isRTL?"left":"right",height:height,alwaysVisible:"1"==$(this).attr("data-always-visible"),railVisible:"1"==$(this).attr("data-rail-visible"),disableFadeOut:!0}),$(this).attr("data-initialized","1"))}))},destroySlimScroll:function(el){$(el).each((function(){if("1"===$(this).attr("data-initialized")){$(this).removeAttr("data-initialized"),$(this).removeAttr("style");var attrList={};$(this).attr("data-handle-color")&&(attrList["data-handle-color"]=$(this).attr("data-handle-color")),$(this).attr("data-wrapper-class")&&(attrList["data-wrapper-class"]=$(this).attr("data-wrapper-class")),$(this).attr("data-rail-color")&&(attrList["data-rail-color"]=$(this).attr("data-rail-color")),$(this).attr("data-always-visible")&&(attrList["data-always-visible"]=$(this).attr("data-always-visible")),$(this).attr("data-rail-visible")&&(attrList["data-rail-visible"]=$(this).attr("data-rail-visible")),$(this).slimScroll({wrapperClass:$(this).attr("data-wrapper-class")?$(this).attr("data-wrapper-class"):"slimScrollDiv",destroy:!0});var the=$(this);$.each(attrList,(function(key,value){the.attr(key,value)}))}}))},scrollTop:function(){App.scrollTo()},blockUI:function(options){var html="";if((options=$.extend(!0,{},options)).animate?html='<div class="loading-message '+(options.boxed?"loading-message-boxed":"")+'"><img src="'+this.getGlobalImgPath()+'loading/loading-spinner-blue.gif" align=""><span>&nbsp;&nbsp;'+(options.message?options.message:"LOADING...")+"</span></div>":options.iconOnly?html='<div class="loading-message '+(options.boxed?"loading-message-boxed":"")+'"><img src="'+this.getGlobalImgPath()+'loading/loading-spinner-grey.gif" align=""></div>':options.textOnly?html='<div class="loading-message '+(options.boxed?"loading-message-boxed":"")+'"><span>&nbsp;&nbsp;'+(options.message?options.message:"LOADING...")+"</span></div>":(console.log("加载方式"),html='<div class="loading-message '+(options.boxed?"loading-message-boxed":"")+'"><img src="'+this.getGlobalImgPath()+'loading/loading-spinner-grey.gif" align=""><span>&nbsp;&nbsp;'+(options.message?options.message:"LOADING...")+"</span></div>"),options.target){var el=$(options.target);el.height()<=$(window).height()&&(options.cenrerY=!0),el.block({message:html,baseZ:options.zIndex?options.zIndex:1e3,centerY:void 0!==options.cenrerY&&options.cenrerY,css:{top:"10%",border:"0",padding:"0",backgroundColor:"none"},overlayCSS:{backgroundColor:options.overlayColor?options.overlayColor:"#555",opacity:options.boxed?.05:.1,cursor:"wait"}})}else $.blockUI({message:html,baseZ:options.zIndex?options.zIndex:1e3,css:{border:"0",padding:"0",backgroundColor:"none"},overlayCSS:{backgroundColor:options.overlayColor?options.overlayColor:"#555",opacity:options.boxed?.05:.1,cursor:"wait"}})},unblockUI:function(target){target?$(target).unblock({onUnblock:function(){$(target).css("position",""),$(target).css("zoom","")}}):$.unblockUI()},startPageLoading:function(options){options&&options.animate?($(".page-spinner-bar").remove(),$("body").append('<div class="page-spinner-bar"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div>')):($(".page-loading").remove(),$("body").append('<div class="page-loading"><img src="'+this.getGlobalImgPath()+'loading/loading-spinner-grey.gif"/>&nbsp;&nbsp;<span>'+(options&&options.message?options.message:"Loading...")+"</span></div>"))},stopPageLoading:function(){$(".page-loading, .page-spinner-bar").remove()},alert:function(options){options=$.extend(!0,{container:"",place:"append",type:"success",message:"",close:!0,reset:!0,focus:!0,closeInSeconds:0,icon:""},options);var id=App.getUniqueID("App_alert"),html='<div id="'+id+'" class="custom-alerts alert alert-'+options.type+' fade in">'+(options.close?'<button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>':"")+(""!==options.icon?'<i class="fa-lg fa fa-'+options.icon+'"></i>  ':"")+options.message+"</div>";return options.reset&&$(".custom-alerts").remove(),options.container?"append"==options.place?$(options.container).append(html):$(options.container).prepend(html):1===$(".page-fixed-main-content").length?$(".page-fixed-main-content").prepend(html):($("body").hasClass("page-container-bg-solid")||$("body").hasClass("page-content-white"))&&0===$(".page-head").length?$(".page-title").after(html):$(".page-bar").length>0?$(".page-bar").after(html):$(".page-breadcrumb, .breadcrumbs").after(html),options.focus&&App.scrollTo($("#"+id)),options.closeInSeconds>0&&setTimeout((function(){$("#"+id).remove()}),1e3*options.closeInSeconds),id},initUniform:function(els){els?$(els).each((function(){0===$(this).parents(".checker").length&&($(this).show(),$(this).uniform())})):handleUniform()},updateUniform:function(els){$.uniform.update(els)},initFancybox:function(){handleFancybox()},getActualVal:function(el){return(el=$(el)).val()===el.attr("placeholder")?"":el.val()},getURLParameter:function(paramName){var searchString,i,val,params=window.location.search.substring(1).split("&");for(i=0;i<params.length;i++)if((val=params[i].split("="))[0]==paramName)return unescape(val[1]);return null},isTouchDevice:function(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}},getViewPort:function(){var e=window,a="inner";return"innerWidth"in window||(a="client",e=document.documentElement||document.body),{width:e[a+"Width"],height:e[a+"Height"]}},getUniqueID:function(prefix){return"prefix_"+Math.floor(Math.random()*(new Date).getTime())},isIE8:function(){return isIE8},isIE9:function(){return isIE9},isRTL:function(){return isRTL},isAngularJsApp:function(){return"undefined"!=typeof angular},getbasePath:function(){return basePath},setbasePath:function(path){basePath=path},setGlobalImgPath:function(path){globalImgPath=path},getGlobalImgPath:function(){return basePath+globalImgPath},setGlobalPluginsPath:function(path){globalPluginsPath=path},getGlobalPluginsPath:function(){return basePath+globalPluginsPath},getGlobalCssPath:function(){return basePath+"global/css/"},getBrandColor:function(name){return brandColors[name]?brandColors[name]:""},getResponsiveBreakpoint:function(size){var sizes={xs:480,sm:768,md:992,lg:1200};return sizes[size]?sizes[size]:0}}}();context=function(){var options={fadeSpeed:100,filter:function($obj){},above:"auto",left:"auto",preventDoubleContext:!0,compress:!1};function initialize(opts){options=$.extend({},options,opts),$(document).on("click",(function(){$(".dropdown-context").fadeOut(options.fadeSpeed,(function(){$(".dropdown-context").css({display:""}).find(".drop-left").removeClass("drop-left")}))})),options.preventDoubleContext&&$(document).on("contextmenu",".dropdown-context",(function(e){e.preventDefault()})),$(document).on("mouseenter",".dropdown-submenu",(function(){var $sub=$(this).find(".dropdown-context-sub:first"),subWidth,subLeft,collision;$sub.width()+$sub.offset().left>window.innerWidth&&$sub.addClass("drop-left")}))}function updateOptions(opts){options=$.extend({},options,opts)}function buildMenu(data,id,subMenu){var subClass=subMenu?" dropdown-context-sub":"",compressed=options.compress?" compressed-context":"",$menu;return buildMenuItems($('<ul class="dropdown-menu dropdown-context'+subClass+compressed+'" id="dropdown-'+id+'"></ul>'),data,id,subMenu)}function buildMenuItems($menu,data,id,subMenu,addDynamicTag){for(var linkTarget="",i=0;i<data.length;i++){if(void 0!==data[i].divider){var divider='<li class="divider';divider+=addDynamicTag?" dynamic-menu-item":"",divider+='"></li>',$menu.append(divider)}else if(void 0!==data[i].header){var header='<li class="nav-header';header+=addDynamicTag?" dynamic-menu-item":"",header+='">'+data[i].header+"</li>",$menu.append(header)}else if(void 0!==data[i].menu_item_src){var funcName;if("function"==typeof data[i].menu_item_src)if(""===data[i].menu_item_src.name){for(var globalVar in window)if(data[i].menu_item_src==window[globalVar]){funcName=globalVar;break}}else funcName=data[i].menu_item_src.name;else funcName=data[i].menu_item_src;$menu.append('<li class="dynamic-menu-src" data-src="'+funcName+'"></li>')}else{if(void 0===data[i].href&&(data[i].href="#"),void 0!==data[i].target&&(linkTarget=' target="'+data[i].target+'"'),void 0!==data[i].subMenu){var sub_menu='<li class="dropdown-submenu';sub_menu+=addDynamicTag?" dynamic-menu-item":"",sub_menu+='"><a tabindex="-1" href="'+data[i].href+'">'+data[i].text+"</a></li>",$sub=sub_menu}else{var element="<li";element+=addDynamicTag?' class="dynamic-menu-item"':"",element+='><a tabindex="-1" href="'+data[i].href+'"'+linkTarget+">",void 0!==data[i].icon&&(element+='<span class="glyphicon '+data[i].icon+'"></span> '),element+=data[i].text+"</a></li>",$sub=$(element)}if(void 0!==data[i].action&&($action=data[i].action,$sub.find("a").addClass("context-event").on("click",createCallback($action))),$menu.append($sub),void 0!==data[i].subMenu){var subMenuData=buildMenu(data[i].subMenu,id,!0);$menu.find("li:last").append(subMenuData)}}"function"==typeof options.filter&&options.filter($menu.find("li:last"))}return $menu}function addContext(selector,data){if(void 0!==data.id&&void 0!==data.data){var id=data.id;void 0===($menu=$("body").find("#dropdown-"+id)[0])&&($menu=buildMenu(data.data,id),$("body").append($menu))}else{var d=new Date,id,$menu=buildMenu(data,id=d.getTime());$("body").append($menu)}$(selector).on("contextmenu",(function(e){if(e.preventDefault(),e.stopPropagation(),rightClickEvent=e,currentContextSelector=$(this),$(".dropdown-context:not(.dropdown-context-sub)").hide(),$dd=$("#dropdown-"+id),$dd.find(".dynamic-menu-item").remove(),$dd.find(".dynamic-menu-src").each((function(idx,element){var menuItems=window[$(element).data("src")]($(selector));$parentMenu=$(element).closest(".dropdown-menu.dropdown-context"),$parentMenu=buildMenuItems($parentMenu,menuItems,id,void 0,!0)})),"boolean"==typeof options.above&&options.above)$dd.addClass("dropdown-context-up").css({top:e.pageY-20-$("#dropdown-"+id).height(),left:e.pageX-13}).fadeIn(options.fadeSpeed);else if("string"==typeof options.above&&"auto"==options.above){$dd.removeClass("dropdown-context-up");var autoH=$dd.height()+12;e.pageY+autoH>$("html").height()?$dd.addClass("dropdown-context-up").css({top:e.pageY-20-autoH,left:e.pageX-13}).fadeIn(options.fadeSpeed):$dd.css({top:e.pageY+10,left:e.pageX-13}).fadeIn(options.fadeSpeed)}if("boolean"==typeof options.left&&options.left)$dd.addClass("dropdown-context-left").css({left:e.pageX-$dd.width()}).fadeIn(options.fadeSpeed);else if("string"==typeof options.left&&"auto"==options.left){$dd.removeClass("dropdown-context-left");var autoL=$dd.width()-12;e.pageX+autoL>$("html").width()&&$dd.addClass("dropdown-context-left").css({left:e.pageX-$dd.width()+13})}}))}function destroyContext(selector){$(document).off("contextmenu",selector).off("click",".context-event")}return{init:initialize,settings:updateOptions,attach:addContext,destroy:destroyContext}}();var createCallback=function(func){return function(event){func(event,currentContextSelector,rightClickEvent)}},currentContextSelector=void 0,rightClickEvent=void 0;
/*! Copyright (c) 2011 Piotr Rochala (http://rocha.la)
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 *
 * Version: 1.3.8
 *
 */
!function($){$.fn.extend({slimScroll:function(options){var defaults={width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},o=$.extend(defaults,options);return this.each((function(){var isOverPanel,isOverBar,isDragg,queueHide,touchDif,barHeight,percentScroll,lastScroll,divS="<div></div>",minBarHeight=30,releaseScroll=!1,me=$(this);if(me.parent().hasClass(o.wrapperClass)){var offset=me.scrollTop();if(bar=me.siblings("."+o.barClass),rail=me.siblings("."+o.railClass),getBarHeight(),$.isPlainObject(options)){if("height"in options&&"auto"==options.height){me.parent().css("height","auto"),me.css("height","auto");var height=me.parent().parent().height();me.parent().css("height",height),me.css("height",height)}else if("height"in options){var h=options.height;me.parent().css("height",h),me.css("height",h)}if("scrollTo"in options)offset=parseInt(o.scrollTo);else if("scrollBy"in options)offset+=parseInt(o.scrollBy);else if("destroy"in options)return bar.remove(),rail.remove(),void me.unwrap();scrollContent(offset,!1,!0)}}else if(!($.isPlainObject(options)&&"destroy"in options)){o.height="auto"==o.height?me.parent().height():o.height;var wrapper=$(divS).addClass(o.wrapperClass).css({position:"relative",overflow:"hidden",width:o.width,height:o.height});me.css({overflow:"hidden",width:o.width,height:o.height});var rail=$(divS).addClass(o.railClass).css({width:o.size,height:"100%",position:"absolute",top:0,display:o.alwaysVisible&&o.railVisible?"block":"none","border-radius":o.railBorderRadius,background:o.railColor,opacity:o.railOpacity,zIndex:90}),bar=$(divS).addClass(o.barClass).css({background:o.color,width:o.size,position:"absolute",top:0,opacity:o.opacity,display:o.alwaysVisible?"block":"none","border-radius":o.borderRadius,BorderRadius:o.borderRadius,MozBorderRadius:o.borderRadius,WebkitBorderRadius:o.borderRadius,zIndex:99}),posCss="right"==o.position?{right:o.distance}:{left:o.distance};rail.css(posCss),bar.css(posCss),me.wrap(wrapper),me.parent().append(bar),me.parent().append(rail),o.railDraggable&&bar.bind("mousedown",(function(e){var $doc=$(document);return isDragg=!0,t=parseFloat(bar.css("top")),pageY=e.pageY,$doc.bind("mousemove.slimscroll",(function(e){currTop=t+e.pageY-pageY,bar.css("top",currTop),scrollContent(0,bar.position().top,!1)})),$doc.bind("mouseup.slimscroll",(function(e){isDragg=!1,hideBar(),$doc.unbind(".slimscroll")})),!1})).bind("selectstart.slimscroll",(function(e){return e.stopPropagation(),e.preventDefault(),!1})),rail.hover((function(){showBar()}),(function(){hideBar()})),bar.hover((function(){isOverBar=!0}),(function(){isOverBar=!1})),me.hover((function(){isOverPanel=!0,showBar(),hideBar()}),(function(){isOverPanel=!1,hideBar()})),me.bind("touchstart",(function(e,b){e.originalEvent.touches.length&&(touchDif=e.originalEvent.touches[0].pageY)})),me.bind("touchmove",(function(e){var diff;(releaseScroll||e.originalEvent.preventDefault(),e.originalEvent.touches.length)&&(scrollContent((touchDif-e.originalEvent.touches[0].pageY)/o.touchScrollStep,!0),touchDif=e.originalEvent.touches[0].pageY)})),getBarHeight(),"bottom"===o.start?(bar.css({top:me.outerHeight()-bar.outerHeight()}),scrollContent(0,!0)):"top"!==o.start&&(scrollContent($(o.start).position().top,null,!0),o.alwaysVisible||bar.hide()),attachWheel(this)}function _onWheel(e){if(isOverPanel){var e,delta=0;(e=e||window.event).wheelDelta&&(delta=-e.wheelDelta/120),e.detail&&(delta=e.detail/3);var target=e.target||e.srcTarget||e.srcElement;$(target).closest("."+o.wrapperClass).is(me.parent())&&scrollContent(delta,!0),e.preventDefault&&!releaseScroll&&e.preventDefault(),releaseScroll||(e.returnValue=!1)}}function scrollContent(y,isWheel,isJump){releaseScroll=!1;var delta=y,maxTop=me.outerHeight()-bar.outerHeight();if(isWheel&&(delta=parseInt(bar.css("top"))+y*parseInt(o.wheelStep)/100*bar.outerHeight(),delta=Math.min(Math.max(delta,0),maxTop),delta=y>0?Math.ceil(delta):Math.floor(delta),bar.css({top:delta+"px"})),delta=(percentScroll=parseInt(bar.css("top"))/(me.outerHeight()-bar.outerHeight()))*(me[0].scrollHeight-me.outerHeight()),isJump){var offsetTop=(delta=y)/me[0].scrollHeight*me.outerHeight();offsetTop=Math.min(Math.max(offsetTop,0),maxTop),bar.css({top:offsetTop+"px"})}me.scrollTop(delta),me.trigger("slimscrolling",~~delta),showBar(),hideBar()}function attachWheel(target){window.addEventListener?(target.addEventListener("DOMMouseScroll",_onWheel,!1),target.addEventListener("mousewheel",_onWheel,!1)):document.attachEvent("onmousewheel",_onWheel)}function getBarHeight(){barHeight=Math.max(me.outerHeight()/me[0].scrollHeight*me.outerHeight(),30),bar.css({height:barHeight+"px"});var display=barHeight==me.outerHeight()?"none":"block";bar.css({display:display})}function showBar(){if(getBarHeight(),clearTimeout(queueHide),percentScroll==~~percentScroll){if(releaseScroll=o.allowPageScroll,lastScroll!=percentScroll){var msg=0==~~percentScroll?"top":"bottom";me.trigger("slimscroll",msg)}}else releaseScroll=!1;lastScroll=percentScroll,barHeight>=me.outerHeight()?releaseScroll=!0:(bar.stop(!0,!0).fadeIn("fast"),o.railVisible&&rail.stop(!0,!0).fadeIn("fast"))}function hideBar(){o.alwaysVisible||(queueHide=setTimeout((function(){o.disableFadeOut&&isOverPanel||isOverBar||isDragg||(bar.fadeOut("slow"),rail.fadeOut("slow"))}),1e3))}})),this}}),$.fn.extend({slimscroll:$.fn.slimScroll})}(jQuery);var pageIdField="data-pageId";function getPageId(element){return element instanceof jQuery?element.attr(pageIdField):$(element).attr(pageIdField)}function findTabTitle(pageId){var $ele=null;return $(".page-tabs-content").find("a.menu_tab").each((function(){var $a=$(this);if($a.attr(pageIdField)==pageId)return $ele=$a,!1})),$ele}function findTabPanel(pageId){var $ele=null;return $("#tab-content").find("div.tab-pane").each((function(){var $div=$(this);if($div.attr(pageIdField)==pageId)return $ele=$div,!1})),$ele}function findIframeById(pageId){return findTabPanel(pageId).children("iframe")}function getActivePageId(){var $a;return getPageId($(".page-tabs-content").find(".active"))}function canRemoveTab(pageId){return findTabTitle(pageId).find(".fa-remove").length>0}var addLeftTabs=function(options){var defaultTabOptions={id:200*Math.random(),urlType:"relative",title:"新页面"};options=$.extend(!0,defaultTabOptions,options),$(".top-treeview").removeClass("active"),$(".left-treeview").each((function(index,item){$(item).hasClass("left-"+options.mark)?($(".top-"+options.mark).addClass("active"),$(item).addClass("show").removeClass("hide")):$(item).addClass("hide").removeClass("show")}))},addTabs=function(options){var defaultTabOptions={id:200*Math.random(),urlType:"relative",title:"新页面"};if("relative"===(options=$.extend(!0,defaultTabOptions,options)).urlType){var basePath="/backend";options.url=basePath+options.url}var pageId=options.id;if(null===findTabPanel(pageId)){var $title=$('<a href="javascript:void(0);"></a>').attr(pageIdField,pageId).addClass("menu_tab"),$text=$("<span class='page_tab_title'></span>").text(options.title).appendTo($title);if(options.close)var $i=$("<i class='fa fa-remove page_tab_close' style='cursor: pointer' onclick='closeTab(this);'></i>").attr(pageIdField,pageId).appendTo($title);$(".page-tabs-content").append($title);var $tabPanel=$('<div role="tabpanel" class="tab-pane"></div>').attr(pageIdField,pageId);if(options.content)$tabPanel.append(options.content);else{App.blockUI({target:"#tab-content",boxed:!0,message:"加载中......",animate:!0});var $iframe=$("<iframe></iframe>").attr("src",options.url).css("width","100%").attr("frameborder","no").attr("id","iframe_"+pageId).addClass("tab_iframe").attr(pageIdField,pageId);$iframe.on("load",(function(){App.unblockUI("#tab-content"),App.fixIframeCotent()})),$tabPanel.append($iframe)}$("#tab-content").append($tabPanel)}activeTabByPageId(pageId)},closeTab=function(item){var pageId;closeTabByPageId(getPageId(item))};function closeTabByPageId(pageId){var $title=findTabTitle(pageId),$tabPanel=findTabPanel(pageId);if($title.hasClass("active")){var $nextTitle=$title.next(),activePageId;activePageId=$nextTitle.length>0?getPageId($nextTitle):getPageId($title.prev()),setTimeout((function(){activeTabByPageId(activePageId)}),100)}$title.remove(),$tabPanel.remove()}function closeTabOnly(pageId){var $title=findTabTitle(pageId),$tabPanel=findTabPanel(pageId);$title.remove(),$tabPanel.remove()}var closeCurrentTab=function(){var pageId=getActivePageId();canRemoveTab(pageId)&&closeTabByPageId(pageId)};function refreshTabById(pageId){var $iframe=findIframeById(pageId),url=$iframe.attr("src");url.indexOf(top.document.domain)<0?$iframe.attr("src",url):$iframe[0].contentWindow.location.reload(!0),App.blockUI({target:"#tab-content",boxed:!0,message:"加载中......"})}var refreshTab=function(){var pageId;refreshTabById(getActivePageId())};function getTabUrlById(pageId){var $iframe;return findIframeById(pageId)[0].contentWindow.location.href}function getTabUrl(element){var pageId;getTabUrlById(getPageId(element))}function editTabTitle(pageId,title){var $title,$span;findTabTitle(pageId).children("span.page_tab_title").text(title)}var calSumWidth=function(element){var width=0;return $(element).each((function(){width+=$(this).outerWidth(!0)})),width},scrollToTab=function(element){var marginLeftVal=calSumWidth($(element).prevAll()),marginRightVal=calSumWidth($(element).nextAll()),tabOuterWidth=calSumWidth($(".content-tabs").children().not(".menuTabs")),visibleWidth=$(".content-tabs").outerWidth(!0)-tabOuterWidth,scrollVal=0;if($(".page-tabs-content").outerWidth()<visibleWidth)scrollVal=0;else if(marginRightVal<=visibleWidth-$(element).outerWidth(!0)-$(element).next().outerWidth(!0)){if(visibleWidth-$(element).next().outerWidth(!0)>marginRightVal){scrollVal=marginLeftVal;for(var tabElement=element;scrollVal-$(tabElement).outerWidth()>$(".page-tabs-content").outerWidth()-visibleWidth;)scrollVal-=$(tabElement).prev().outerWidth(),tabElement=$(tabElement).prev()}}else marginLeftVal>visibleWidth-$(element).outerWidth(!0)-$(element).prev().outerWidth(!0)&&(scrollVal=marginLeftVal-$(element).prev().outerWidth(!0));$(".page-tabs-content").animate({marginLeft:0-scrollVal+"px"},"fast")},scrollTabLeft=function(){var marginLeftVal=Math.abs(parseInt($(".page-tabs-content").css("margin-left"))),tabOuterWidth=calSumWidth($(".content-tabs").children().not(".menuTabs")),visibleWidth=$(".content-tabs").outerWidth(!0)-tabOuterWidth,scrollVal=0;if($(".page-tabs-content").width()<visibleWidth)return!1;for(var tabElement=$(".menu_tab:first"),offsetVal=0;offsetVal+$(tabElement).outerWidth(!0)<=marginLeftVal;)offsetVal+=$(tabElement).outerWidth(!0),tabElement=$(tabElement).next();if(offsetVal=0,calSumWidth($(tabElement).prevAll())>visibleWidth){for(;offsetVal+$(tabElement).outerWidth(!0)<visibleWidth&&tabElement.length>0;)offsetVal+=$(tabElement).outerWidth(!0),tabElement=$(tabElement).prev();scrollVal=calSumWidth($(tabElement).prevAll())}$(".page-tabs-content").animate({marginLeft:0-scrollVal+"px"},"fast")},scrollTabRight=function(){var marginLeftVal=Math.abs(parseInt($(".page-tabs-content").css("margin-left"))),tabOuterWidth=calSumWidth($(".content-tabs").children().not(".menuTabs")),visibleWidth=$(".content-tabs").outerWidth(!0)-tabOuterWidth,scrollVal=0;if($(".page-tabs-content").width()<visibleWidth)return!1;for(var tabElement=$(".menu_tab:first"),offsetVal=0;offsetVal+$(tabElement).outerWidth(!0)<=marginLeftVal;)offsetVal+=$(tabElement).outerWidth(!0),tabElement=$(tabElement).next();for(offsetVal=0;offsetVal+$(tabElement).outerWidth(!0)<visibleWidth&&tabElement.length>0;)offsetVal+=$(tabElement).outerWidth(!0),tabElement=$(tabElement).next();(scrollVal=calSumWidth($(tabElement).prevAll()))>0&&$(".page-tabs-content").animate({marginLeft:0-scrollVal+"px"},"fast")},closeOtherTabs=function(isAll){if(isAll){$(".page-tabs-content").children("["+pageIdField+"]").find(".fa-remove").parents("a").each((function(){var $a,pageId;closeTabOnly(getPageId($(this)))}));var firstChild=$(".page-tabs-content").children().eq(0);firstChild&&activeTabByPageId(getPageId(firstChild))}else $(".page-tabs-content").children("["+pageIdField+"]").find(".fa-remove").parents("a").not(".active").each((function(){var $a,pageId;closeTabOnly(getPageId($(this)))}))};function activeTabByPageId(pageId){if($(".menu_tab").removeClass("active"),$("#tab-content").find(".active").removeClass("active"),findTabTitle(pageId)){var $title=findTabTitle(pageId).addClass("active");findTabPanel(pageId).addClass("active"),scrollToTab($title[0])}}$((function(){var $tabs=$(".menuTabs");function findTabElement(target){var $ele=$(target);return $ele.is("a")||($ele=$ele.parents("a.menu_tab")),$ele}$tabs.on("click",".menu_tab",(function(){var pageId;activeTabByPageId(getPageId(this))})),$tabs.on("dblclick",".menu_tab",(function(){var pageId;refreshTabById(getPageId(this))})),context.init({preventDoubleContext:!1,compress:!0}),context.attach(".page-tabs-content",[{text:"刷新",action:function(e,$selector,rightClickEvent){var pageId;refreshTabById(getPageId(findTabElement(rightClickEvent.target)))}},{text:"在新窗口打开",action:function(e,$selector,rightClickEvent){var pageId,url=getTabUrlById(getPageId(findTabElement(rightClickEvent.target)));window.open(url)}}])})),function(){"use strict";function e(e){function t(t,n){var s,h,k=t==window,y=n&&void 0!==n.message?n.message:void 0;if(!(n=e.extend({},e.blockUI.defaults,n||{})).ignoreIfBlocked||!e(t).data("blockUI.isBlocked")){if(n.overlayCSS=e.extend({},e.blockUI.defaults.overlayCSS,n.overlayCSS||{}),s=e.extend({},e.blockUI.defaults.css,n.css||{}),n.onOverlayClick&&(n.overlayCSS.cursor="pointer"),h=e.extend({},e.blockUI.defaults.themedCSS,n.themedCSS||{}),y=void 0===y?n.message:y,k&&p&&o(window,{fadeOut:0}),y&&"string"!=typeof y&&(y.parentNode||y.jquery)){var m=y.jquery?y[0]:y,v={};e(t).data("blockUI.history",v),v.el=m,v.parent=m.parentNode,v.display=m.style.display,v.position=m.style.position,v.parent&&v.parent.removeChild(m)}e(t).data("blockUI.onUnblock",n.onUnblock);var g,I,w,U,x=n.baseZ;g=e(r||n.forceIframe?'<iframe class="blockUI" style="z-index:'+x+++';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+n.iframeSrc+'"></iframe>':'<div class="blockUI" style="display:none"></div>'),I=e(n.theme?'<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+x+++';display:none"></div>':'<div class="blockUI blockOverlay" style="z-index:'+x+++';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'),n.theme&&k?(U='<div class="blockUI '+n.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(x+10)+';display:none;position:fixed">',n.title&&(U+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(n.title||"&nbsp;")+"</div>"),U+='<div class="ui-widget-content ui-dialog-content"></div>',U+="</div>"):n.theme?(U='<div class="blockUI '+n.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(x+10)+';display:none;position:absolute">',n.title&&(U+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(n.title||"&nbsp;")+"</div>"),U+='<div class="ui-widget-content ui-dialog-content"></div>',U+="</div>"):U=k?'<div class="blockUI '+n.blockMsgClass+' blockPage" style="z-index:'+(x+10)+';display:none;position:fixed"></div>':'<div class="blockUI '+n.blockMsgClass+' blockElement" style="z-index:'+(x+10)+';display:none;position:absolute"></div>',w=e(U),y&&(n.theme?(w.css(h),w.addClass("ui-widget-content")):w.css(s)),n.theme||I.css(n.overlayCSS),I.css("position",k?"fixed":"absolute"),(r||n.forceIframe)&&g.css("opacity",0);var C=[g,I,w],S=e(k?"body":t);e.each(C,(function(){this.appendTo(S)})),n.theme&&n.draggable&&e.fn.draggable&&w.draggable({handle:".ui-dialog-titlebar",cancel:"li"});var O=f&&(!e.support.boxModel||e("object,embed",k?null:t).length>0);if(u||O){if(k&&n.allowBodyStretch&&e.support.boxModel&&e("html,body").css("height","100%"),(u||!e.support.boxModel)&&!k)var E=d(t,"borderTopWidth"),T=d(t,"borderLeftWidth"),M=E?"(0 - "+E+")":0,B=T?"(0 - "+T+")":0;e.each(C,(function(e,t){var o=t[0].style;if(o.position="absolute",2>e)k?o.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+n.quirksmodeOffsetHack+') + "px"'):o.setExpression("height",'this.parentNode.offsetHeight + "px"'),k?o.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):o.setExpression("width",'this.parentNode.offsetWidth + "px"'),B&&o.setExpression("left",B),M&&o.setExpression("top",M);else if(n.centerY)k&&o.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),o.marginTop=0;else if(!n.centerY&&k){var i,s="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+(n.css&&n.css.top?parseInt(n.css.top,10):0)+') + "px"';o.setExpression("top",s)}}))}if(y&&(n.theme?w.find(".ui-widget-content").append(y):w.append(y),(y.jquery||y.nodeType)&&e(y).show()),(r||n.forceIframe)&&n.showOverlay&&g.show(),n.fadeIn){var j=n.onBlock?n.onBlock:c,H=n.showOverlay&&!y?j:c,z=y?j:c;n.showOverlay&&I._fadeIn(n.fadeIn,H),y&&w._fadeIn(n.fadeIn,z)}else n.showOverlay&&I.show(),y&&w.show(),n.onBlock&&n.onBlock.bind(w)();if(i(1,t,n),k?(p=w[0],b=e(n.focusableElements,p),n.focusInput&&setTimeout(l,20)):a(w[0],n.centerX,n.centerY),n.timeout){var W=setTimeout((function(){k?e.unblockUI(n):e(t).unblock(n)}),n.timeout);e(t).data("blockUI.timeout",W)}}}function o(t,o){var s,l=t==window,a=e(t),d=a.data("blockUI.history"),c=a.data("blockUI.timeout"),r;c&&(clearTimeout(c),a.removeData("blockUI.timeout")),o=e.extend({},e.blockUI.defaults,o||{}),i(0,t,o),null===o.onUnblock&&(o.onUnblock=a.data("blockUI.onUnblock"),a.removeData("blockUI.onUnblock")),r=l?e("body").children().filter(".blockUI").add("body > .blockUI"):a.find(">.blockUI"),o.cursorReset&&(r.length>1&&(r[1].style.cursor=o.cursorReset),r.length>2&&(r[2].style.cursor=o.cursorReset)),l&&(p=b=null),o.fadeOut?(s=r.length,r.stop().fadeOut(o.fadeOut,(function(){0==--s&&n(r,d,o,t)}))):n(r,d,o,t)}function n(t,o,n,i){var s=e(i);if(!s.data("blockUI.isBlocked")){t.each((function(){this.parentNode&&this.parentNode.removeChild(this)})),o&&o.el&&(o.el.style.display=o.display,o.el.style.position=o.position,o.el.style.cursor="default",o.parent&&o.parent.appendChild(o.el),s.removeData("blockUI.history")),s.data("blockUI.static")&&s.css("position","static"),"function"==typeof n.onUnblock&&n.onUnblock(i,n);var l=e(document.body),a=l.width(),d=l[0].style.width;l.width(a-1).width(a),l[0].style.width=d}}function i(t,o,n){var i=o==window,l=e(o);if((t||(!i||p)&&(i||l.data("blockUI.isBlocked")))&&(l.data("blockUI.isBlocked",t),i&&n.bindEvents&&(!t||n.showOverlay))){var a="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";t?e(document).bind(a,n,s):e(document).unbind(a,s)}}function s(t){if("keydown"===t.type&&t.keyCode&&9==t.keyCode&&p&&t.data.constrainTabKey){var o=b,n=!t.shiftKey&&t.target===o[o.length-1],i=t.shiftKey&&t.target===o[0];if(n||i)return setTimeout((function(){l(i)}),10),!1}var s=t.data,a=e(t.target);return a.hasClass("blockOverlay")&&s.onOverlayClick&&s.onOverlayClick(t),a.parents("div."+s.blockMsgClass).length>0||0===a.parents().children().filter("div.blockUI").length}function l(e){if(b){var t=b[!0===e?b.length-1:0];t&&t.focus()}}function a(e,t,o){var n=e.parentNode,i=e.style,s=(n.offsetWidth-e.offsetWidth)/2-d(n,"borderLeftWidth"),l=(n.offsetHeight-e.offsetHeight)/2-d(n,"borderTopWidth");t&&(i.left=s>0?s+"px":"0"),o&&(i.top=l>0?l+"px":"0")}function d(t,o){return parseInt(e.css(t,o),10)||0}e.fn._fadeIn=e.fn.fadeIn;var c=e.noop||function(){},r=/MSIE/.test(navigator.userAgent),u=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),f=(document.documentMode,e.isFunction(document.createElement("div").style.setExpression));e.blockUI=function(e){t(window,e)},e.unblockUI=function(e){o(window,e)},e.growlUI=function(t,o,n,i){var s=e('<div class="growlUI"></div>');t&&s.append("<h1>"+t+"</h1>"),o&&s.append("<h2>"+o+"</h2>"),void 0===n&&(n=3e3);var l=function(t){t=t||{},e.blockUI({message:s,fadeIn:void 0!==t.fadeIn?t.fadeIn:700,fadeOut:void 0!==t.fadeOut?t.fadeOut:1e3,timeout:void 0!==t.timeout?t.timeout:n,centerY:!1,showOverlay:!1,onUnblock:i,css:e.blockUI.defaults.growlCSS})};l(),s.css("opacity"),s.mouseover((function(){l({fadeIn:0,timeout:3e4});var t=e(".blockMsg");t.stop(),t.fadeTo(300,1)})).mouseout((function(){e(".blockMsg").fadeOut(1e3)}))},e.fn.block=function(o){if(this[0]===window)return e.blockUI(o),this;var n=e.extend({},e.blockUI.defaults,o||{});return this.each((function(){var t=e(this);n.ignoreIfBlocked&&t.data("blockUI.isBlocked")||t.unblock({fadeOut:0})})),this.each((function(){"static"==e.css(this,"position")&&(this.style.position="relative",e(this).data("blockUI.static",!0)),this.style.zoom=1,t(this,o)}))},e.fn.unblock=function(t){return this[0]===window?(e.unblockUI(t),this):this.each((function(){o(this,t)}))},e.blockUI.version=2.7,e.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var p=null,b=[]}"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e(jQuery)}(),function($){$.fn.sidebarMenu=function(options){options=$.extend({},$.fn.sidebarMenu.defaults,options||{});var $menu_ul=$(this),level=0;if(options.data)init($menu_ul,options.data,0);else{if(!options.url)return;$.getJSON(options.url,options.param,(function(data){init($menu_ul,data,0)}))}function init($menu_ul,data,level){$.each(data,(function(i,item){var $header=$('<li class="header"></li>');if(null!==item.isHeader&&!0===item.isHeader)return $header.append(item.text),void $menu_ul.append($header);let acs="";if(0==i&&(acs="active"),null==item.type)var li=$('<li class="treeview top-treeview '+acs+"  top-"+item.mark+"   "+item.is_show+'" data-level="'+level+'"></li>');else var li=$('<li class="treeview left-treeview  left-'+item.type+"   "+item.is_show+'" data-level="'+level+'"></li>');var $a;$a=$(level>0?'<a style="padding-left:'+20*level+'px"></a>':"<a></a>");var $icon=$("<i></i>");$icon.addClass(item.icon);var $title=$('<span class="title"></span>');$title.addClass("menu-text").text(item.text),$a.append($icon),$a.append($title),$a.addClass("nav-link");var isOpen=item.isOpen;if(!0===isOpen&&li.addClass("active"),item.children&&item.children.length>0){var pullSpan=$('<span class="pull-right-container"></span>'),pullIcon=$('<i class="fa fa-angle-left pull-right"></i>');pullSpan.append(pullIcon),$a.append(pullSpan),li.append($a);var menus=$("<ul></ul>");menus.addClass("treeview-menu"),!0===isOpen?(menus.css("display","block"),menus.addClass("menu-open")):menus.css("display","none"),init(menus,item.children,level+1),li.append(menus)}else{if(null!=item.targetType&&"blank"===item.targetType)$a.attr("href",item.url),$a.attr("target","_blank");else if(null!=item.targetType&&"top-nav"===item.targetType){var href="addLeftTabs({id:'"+item.id+"',title: '"+item.text+"',close: true,url: '"+item.url+"',mark: '"+item.mark+"'});";$a.attr("onclick",href)}else if(null!=item.targetType&&"ajax"===item.targetType)$a.attr("href",item.url),$a.addClass("ajaxify");else if(null!=item.targetType&&"iframe-tab"===item.targetType){item.urlType=item.urlType?item.urlType:"relative";var href="addTabs({id:'"+item.id+"',title: '"+item.text+"',close: true,url: '"+item.url+"',urlType: '"+item.urlType+"'});";$a.attr("onclick",href)}else null!=item.targetType&&item.targetType,$a.attr("href",item.url),$a.addClass("iframeOpen"),$("#iframe-main").addClass("tab_iframe");$a.addClass("nav-link");var badge=$("<span></span>");null!=item.tip&&item.tip>0&&badge.addClass("label").addClass("label-success").text(item.tip),$a.append(badge),li.append($a)}$menu_ul.append(li)}))}$menu_ul.on("click","li.treeview a",(function(){var $a;0==$(this).next().length&&$(window).width()<$.AdminLTE.options.screenSizes.sm&&$($.AdminLTE.options.sidebarToggleSelector).click()}))},$.fn.sidebarMenu.defaults={url:null,param:null,data:null,isHeader:!1}}(jQuery);